{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/PedroLuisO\\xF1ateEgea/Desktop/ProyectoFinalSpringboot/fronted/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let ListadoComponent = class ListadoComponent {\n  constructor(service, serviceAuth, router) {\n    this.service = service;\n    this.serviceAuth = serviceAuth;\n    this.router = router;\n    this.listadoRutinas = [];\n    if (localStorage.getItem('token')) {\n      const token = localStorage.getItem('token');\n    }\n  }\n  btn_toggle(id) {\n    const dropdown = document.getElementById(\"dropdown\" + id);\n    dropdown?.classList.toggle(\"hidden\");\n  }\n  comprobar_toggle(id) {\n    const dropdown = document.getElementById(\"dropdown\" + id);\n    if (dropdown?.classList.contains(\"hidden\")) {\n      return 1;\n    } else {\n      return 0;\n    }\n  }\n  ngOnInit() {\n    this.devolverRutinas();\n  }\n  devolverRutinas() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (_this.serviceAuth.token) {\n        _this.service.buscarRutinas(_this.serviceAuth.token).subscribe(resp => {\n          _this.listadoRutinas = resp;\n        });\n      }\n    })();\n  }\n  eliminarRutina(id) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.service.eliminarRutina(id).subscribe(response => {\n        _this2.devolverRutinas();\n      }, error => {\n        console.log(error);\n      });\n    })();\n  }\n};\nListadoComponent = __decorate([Component({\n  selector: 'app-listado',\n  templateUrl: './listado.component.html',\n  styleUrls: ['./listado.component.css']\n})], ListadoComponent);","map":{"version":3,"names":["Component","ListadoComponent","constructor","service","serviceAuth","router","listadoRutinas","localStorage","getItem","token","btn_toggle","id","dropdown","document","getElementById","classList","toggle","comprobar_toggle","contains","ngOnInit","devolverRutinas","_this","_asyncToGenerator","buscarRutinas","subscribe","resp","eliminarRutina","_this2","response","error","console","log","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\PedroLuisOÃ±ateEgea\\Desktop\\ProyectoFinalSpringboot\\fronted\\src\\app\\auth\\page\\rutina\\listado\\listado.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { first } from 'rxjs';\r\nimport { AuthService } from 'src/app/auth/services/auth.service';\r\nimport { Rutina } from 'src/app/interfaces/rutina';\r\nimport { CrudRutinaService} from 'src/app/service/crudRutina.service';\r\n\r\n@Component({\r\n  selector: 'app-listado',\r\n  templateUrl: './listado.component.html',\r\n  styleUrls: ['./listado.component.css']\r\n})\r\nexport class ListadoComponent {\r\n  public listadoRutinas: Rutina[] = [];\r\n\r\n\r\n  constructor(private service: CrudRutinaService, private serviceAuth: AuthService, private router: Router){\r\n    if(localStorage.getItem('token')){\r\n      const token = localStorage.getItem('token');\r\n    }\r\n  }\r\n\r\n  btn_toggle(id: any){\r\n    const dropdown = document.getElementById(\"dropdown\" + id);\r\n    dropdown?.classList.toggle(\"hidden\");\r\n  }\r\n\r\n  comprobar_toggle(id: any){\r\n    const dropdown = document.getElementById(\"dropdown\" + id);\r\n    if(dropdown?.classList.contains(\"hidden\")){\r\n      return 1;\r\n    }else{\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.devolverRutinas();\r\n  }\r\n\r\n  async devolverRutinas(){\r\n    if(this.serviceAuth.token){\r\n      this.service.buscarRutinas(this.serviceAuth.token).subscribe(resp => {\r\n        this.listadoRutinas = resp;\r\n      });\r\n    }\r\n  }\r\n\r\n  async eliminarRutina(id: any){\r\n    this.service.eliminarRutina(id).subscribe(response => {\r\n      this.devolverRutinas();\r\n    },(error) => {\r\n      console.log(error);\r\n    });\r\n\r\n  }\r\n}\r\n"],"mappings":";;AAAA,SAASA,SAAS,QAAQ,eAAe;AAYlC,WAAMC,gBAAgB,GAAtB,MAAMA,gBAAgB;EAI3BC,YAAoBC,OAA0B,EAAUC,WAAwB,EAAUC,MAAc;IAApF,KAAAF,OAAO,GAAPA,OAAO;IAA6B,KAAAC,WAAW,GAAXA,WAAW;IAAuB,KAAAC,MAAM,GAANA,MAAM;IAHzF,KAAAC,cAAc,GAAa,EAAE;IAIlC,IAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAC;MAC/B,MAAMC,KAAK,GAAGF,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;;EAE/C;EAEAE,UAAUA,CAACC,EAAO;IAChB,MAAMC,QAAQ,GAAGC,QAAQ,CAACC,cAAc,CAAC,UAAU,GAAGH,EAAE,CAAC;IACzDC,QAAQ,EAAEG,SAAS,CAACC,MAAM,CAAC,QAAQ,CAAC;EACtC;EAEAC,gBAAgBA,CAACN,EAAO;IACtB,MAAMC,QAAQ,GAAGC,QAAQ,CAACC,cAAc,CAAC,UAAU,GAAGH,EAAE,CAAC;IACzD,IAAGC,QAAQ,EAAEG,SAAS,CAACG,QAAQ,CAAC,QAAQ,CAAC,EAAC;MACxC,OAAO,CAAC;KACT,MAAI;MACH,OAAO,CAAC;;EAEZ;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACC,eAAe,EAAE;EACxB;EAEMA,eAAeA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACnB,IAAGD,KAAI,CAACjB,WAAW,CAACK,KAAK,EAAC;QACxBY,KAAI,CAAClB,OAAO,CAACoB,aAAa,CAACF,KAAI,CAACjB,WAAW,CAACK,KAAK,CAAC,CAACe,SAAS,CAACC,IAAI,IAAG;UAClEJ,KAAI,CAACf,cAAc,GAAGmB,IAAI;QAC5B,CAAC,CAAC;;IACH;EACH;EAEMC,cAAcA,CAACf,EAAO;IAAA,IAAAgB,MAAA;IAAA,OAAAL,iBAAA;MAC1BK,MAAI,CAACxB,OAAO,CAACuB,cAAc,CAACf,EAAE,CAAC,CAACa,SAAS,CAACI,QAAQ,IAAG;QACnDD,MAAI,CAACP,eAAe,EAAE;MACxB,CAAC,EAAES,KAAK,IAAI;QACVC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MACpB,CAAC,CAAC;IAAC;EAEL;CACD;AA5CY5B,gBAAgB,GAAA+B,UAAA,EAL5BhC,SAAS,CAAC;EACTiC,QAAQ,EAAE,aAAa;EACvBC,WAAW,EAAE,0BAA0B;EACvCC,SAAS,EAAE,CAAC,yBAAyB;CACtC,CAAC,C,EACWlC,gBAAgB,CA4C5B"},"metadata":{},"sourceType":"module","externalDependencies":[]}